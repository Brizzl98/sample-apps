FROM ubuntu:focal

COPY album-recommendation-random-data/wait-for-and-launch.py .

RUN apt-get update

RUN apt-get -y install python3.8

RUN apt-get -y install python3-distutils --reinstall

RUN apt-get -y install curl

RUN curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py

RUN python3.8 get-pip.py --force-reinstall

RUN python3.8 -m pip install requests argparse

RUN chmod +X ./wait-for-and-launch.py

RUN ls opt/

CMD python3.8 ./wait-for-and-launch.py http://vespa:19071/ApplicationStatus 240